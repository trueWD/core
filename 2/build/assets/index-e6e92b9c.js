import{L as S,P}from"./page-header-e847031b.js";import{_ as H,S as k,r as n,a as U,b as u,l as V,w as h,e as C,o as e,d as p,f as o,n as d,v as c,u as i,c as m,t as _,m as f}from"../js/app2.js";import{C as B}from"./create_user-e0d04e7a.js";import{i as a}from"./index-766558cd.js";const L={name:"usersList",components:{Layout:S,PageHeader:P,CreateUser:B},setup(){const{newAxios:w}=k(),t=n("Hesap Ayarları"),x=n([{text:"ANASAYFA",href:"/"},{text:"HESABIM",active:!0}]),s=U(),y=n({name:s.user.name,email:s.user.email}),g=n({}),b=n([]);return{title:t,items:x,errors:b,password_form:g,updatePassword:async l=>{await w.post("/admin/users/login_as",{id:l}).then(r=>{if(r.data.type=="error")return a.warning(r.data.text,{autoClose:1e3}),!1;a.success(r.data.text,{autoClose:1e3}),setTimeout(function(){s.user=r.data.user,C.push({name:"Users"})},1e3)}).catch(r=>{a.success("Server error 2002",{autoClose:1e3})})},form:y,updateAccount:async l=>{await w.post("/account/myaccount/update",{id:l}).then(r=>{if(r.data.type=="error")return a.warning(r.data.text,{autoClose:1e3}),!1;a.success(r.data.text,{autoClose:1e3}),setTimeout(function(){s.user=r.data.user,C.push({name:"Users"})},1e3)}).catch(r=>{a.success("Server error 2002",{autoClose:1e3})})},store:s}}},E={class:"row"},N={class:"col-12"},z={class:"card"},D=o("div",{class:"card-header"},[o("h6",{class:"card-title mb-0"},"HESAP AYARLARIM")],-1),G={class:"card-body"},I={class:"text-center"},M=["src"],R=o("p",null,[o("button",{class:"btn btn-primary btn-sm mt-2"},"Değiştir")],-1),T=o("h3",{class:"mt-4"},"Hesap Bilgilerim",-1),Y=o("hr",null,null,-1),j={class:"row mb-4"},F=o("label",{for:"name",class:"col-sm-3 col-form-label"},"Ad ve Soyadınız",-1),O={class:"col-sm-8"},q={key:0,class:"form-text text-danger"},J={class:"row mb-4"},K=o("label",{for:"email",class:"col-sm-3 col-form-label"},"Email Adersiniz",-1),Q={class:"col-sm-8"},W={key:0,class:"form-text text-danger"},X=o("button",{type:"button",class:"btn btn-success"},"Bilgilerimi Güncelle",-1),Z=o("h3",{class:"mt-4"},"Hesap Güvenliği",-1),$=o("hr",null,null,-1),ss={class:"row mb-4"},os=o("label",{for:"old_password",class:"col-sm-3 col-form-label"},"Old Password",-1),rs={class:"col-sm-8"},ts={key:0,class:"form-text text-danger"},es={class:"row mb-4"},as=o("label",{for:"password",class:"col-sm-3 col-form-label"},"Password",-1),ls={class:"col-sm-8"},ns={key:0,class:"form-text text-danger"},ds={class:"row mb-4"},cs=o("label",{for:"confirm_password",class:"col-sm-3 col-form-label"},"Re Password",-1),is={class:"col-sm-8"},ms={key:0,class:"form-text text-danger"},_s=o("button",{type:"button",class:"btn btn-success"},"Şifremi Güncelle",-1);function fs(w,t,x,s,y,g){const b=u("PageHeader"),v=u("b-tab"),A=u("b-tabs"),l=u("Layout");return e(),V(l,null,{default:h(()=>[p(b,{title:s.title,items:s.items},null,8,["title","items"]),o("div",E,[o("div",N,[o("div",z,[D,o("div",G,[p(A,{"nav-class":"nav-border-top nav-border-top-primary mb-3","content-class":"text-muted"},{default:h(()=>[p(v,{title:"Hesabım"},{default:h(()=>[o("div",I,[o("img",{src:"/build/images/avatar-3.jpg",class:"avatar-xxl rounded-4",alt:"rounded-4"},null,8,M),R]),T,Y,o("div",j,[F,o("div",O,[d(o("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>s.form.name=r),type:"text",class:i(["form-control",{"is-invalid":s.errors&&s.errors.name}])},null,2),[[c,s.form.name]]),s.errors&&s.errors.name?(e(),m("div",q,_(s.errors.name[0]),1)):f("",!0)])]),o("div",J,[K,o("div",Q,[d(o("input",{"onUpdate:modelValue":t[1]||(t[1]=r=>s.form.email=r),type:"text",class:i(["form-control",{"is-invalid":s.errors&&s.errors.email}])},null,2),[[c,s.form.email]]),s.errors&&s.errors.email?(e(),m("div",W,_(s.errors.email[0]),1)):f("",!0)])]),X,Z,$,o("div",ss,[os,o("div",rs,[d(o("input",{"onUpdate:modelValue":t[2]||(t[2]=r=>s.password_form.old_password=r),type:"password",class:i(["form-control",{"is-invalid":s.errors&&s.errors.old_password}])},null,2),[[c,s.password_form.old_password]]),s.errors&&s.errors.old_password?(e(),m("div",ts,_(s.errors.old_password[0]),1)):f("",!0)])]),o("div",es,[as,o("div",ls,[d(o("input",{"onUpdate:modelValue":t[3]||(t[3]=r=>s.password_form.password=r),type:"password",class:i(["form-control",{"is-invalid":s.errors&&s.errors.password}])},null,2),[[c,s.password_form.password]]),s.errors&&s.errors.password?(e(),m("div",ns,_(s.errors.password[0]),1)):f("",!0)])]),o("div",ds,[cs,o("div",is,[d(o("input",{"onUpdate:modelValue":t[4]||(t[4]=r=>s.password_form.confirm_password=r),type:"password",class:i(["form-control",{"is-invalid":s.errors&&s.errors.confirm_password}])},null,2),[[c,s.password_form.confirm_password]]),s.errors&&s.errors.confirm_password?(e(),m("div",ms,_(s.errors.confirm_password[0]),1)):f("",!0)])]),_s]),_:1}),p(v,{title:"Sistem Ayarlarım"})]),_:1})])])])])]),_:1})}const vs=H(L,[["render",fs]]);export{vs as default};
